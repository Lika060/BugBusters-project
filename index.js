import{g as c,T as E,A as S,r as k,i as u,S as q,a as M}from"./assets/vendor-BUj_-Ysr.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();(()=>{const e=document.querySelector(".js-menu"),n=document.querySelector(".js-menu"),t=document.querySelector(".js-menu-close"),r=document.querySelector(".nav-list");n.addEventListener("click",o),t.addEventListener("click",o);function o(){const s=n.getAttribute("aria-expanded")==="true"||!1;n.setAttribute("aria-expanded",!s),e.classList.toggle("is-open"),document.body.classList.toggle("is-open")}r.addEventListener("click",s=>{s.target.nodeName==="A"&&s.target.nodeName==="A"&&(e.classList.remove("is-open"),document.body.classList.remove("is-open"))})})();const B=document.querySelector(".scroll-to-top");B.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});window.onscroll=()=>O();function O(){const e=document.querySelector(".scroll-to-top");window.scrollY>60?e.classList.remove("js-transparent"):e.classList.add("js-transparent")}document.addEventListener("DOMContentLoaded",()=>{c.registerPlugin(E);const e=["Fullstack Developer","JavaScript Developer","Frontend Developer","Backend Developer"],n=document.querySelector(".hero-hi"),t=document.querySelector(".hero-label");if(!n||!t){console.error("Required elements for animation not found");return}c.from(".hero-hi",{y:100,duration:1,delay:1,ease:"power3.out",onComplete:()=>{r.play()}});const r=c.timeline({repeat:-1}).pause();e.forEach(o=>{const s=c.timeline({repeat:1,yoyo:!0,repeatDelay:.5});s.to(".hero-label",{duration:2,text:o}),r.add(s)})});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("img.lazy");if("IntersectionObserver"in window){const n=new IntersectionObserver((t,r)=>{t.forEach(o=>{if(o.isIntersecting){const s=o.target;s.dataset.src&&(s.src=s.dataset.src,s.addEventListener("error",()=>{console.warn(`Failed to load image: ${s.dataset.src}`)},{once:!0}),r.unobserve(s))}})},{rootMargin:"100px"});e.forEach(t=>{n.observe(t)})}else e.forEach(n=>{n.dataset.src&&(n.src=n.dataset.src)})});new S(".accordion-container",{collapse:!0,openOnInit:[0]});k();const y=document.querySelector(".swiper");let a;const D=async()=>{try{const e=await fetch("https://portfolio-js.b.goit.study/api/reviews");if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to fetch reviews:",e),[]}},T=e=>`
    <li class="swiper-slide" id="slide">
        <p class="review-comment">${e.review}</p>
        <div class="review-info">
          <img class="review-photo" src="${e.avatar_url}" alt="User photo" width="40" height="40" loading="lazy"/>
          <h3 class="review-name">${e.author}</h3>
        </div>
    </li>`,I=async()=>{const e=await D();if(!e.length){y.innerHTML="<p>Not found</p>",u.error({message:"Reviews cannot be loaded at this time.",position:"bottomRight"});return}const n=e.map(t=>T(t)).join("");y.querySelector(".swiper-wrapper").innerHTML=n,a=new q(".swiper",{slidesPerView:1,spaceBetween:10,grabCursor:!0,slideToClickedSlide:!0,speed:800,keyboard:{enabled:!0},mousewheel:{enabled:!0},navigation:{nextEl:".reviews-btn-right",prevEl:".reviews-btn-left"},breakpoints:{768:{slidesPerView:1,spaceBetween:12},1280:{slidesPerView:2,spaceBetween:32}},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},on:{slideChange:()=>{v()}}}),v()};function v(){if(!a)return;const e=document.querySelector(".reviews-btn-right"),n=document.querySelector(".reviews-btn-left");e.disabled=a.isEnd,n.disabled=a.isBeginning;const t=document.querySelector(".js-btn-left"),r=document.querySelector(".js-btn-right");t.style.transition="none",r.style.transition="none",a.isEnd&&(r.style.stroke="#e4e5e6",t.style.stroke="#292929"),a.isBeginning&&(t.style.stroke="#e4e5e6",r.style.stroke="#292929"),!a.isEnd&&!a.isBeginning&&(t.style.stroke="#292929",r.style.stroke="#292929"),e.classList.toggle("disabled",a.isEnd),n.classList.toggle("disabled",a.isBeginning)}I();const p=document.querySelector("#work-together-form"),x=document.querySelector("#work-together-modal-window"),{email:l,message:H,button:R}=p.elements;p.addEventListener("submit",N);l.addEventListener("input",C);function C(){l.validity.valid&&(l.textContent="âœ”",l.classList.add("valid"))}function j(e){const{email:n,message:t}=e.elements;return!!(n.value.trim()&&t.value.trim())}function A(e){document.body.classList.add("modal-open"),x.classList.remove("visually-hidden")}async function P(e){const{email:n,message:t}=e.elements,r={email:n.value.trim(),comment:t.value.trim()};return await M.post("https://portfolio-js.b.goit.study/api/requests",r).then(i=>i.data).then(i=>A()).catch(i=>{i.response.data?u.error(i.response.data):u.error(i)})}async function $(e){e.elements,await P(e).then(n=>{})}function N(e){e.preventDefault(),j(p)?$(p):u.warning({message:"Error"})}let h=!1,d=!1,f;const w=document.createElement("div");w.id="map";function b(){const e=window.innerWidth>=1280,n=document.getElementById(e?"map-desktop":"map-mobile");let t=n.querySelector(".map-wrapper");return t||(t=document.createElement("div"),t.className="map-wrapper",n.appendChild(t)),t.contains(w)||(t.innerHTML="",t.appendChild(w)),t}async function L(e){return await(await fetch(`styles/map-${e}.json`)).json()}window.initMap=async function(){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=await L(n);f=new google.maps.Map(document.getElementById("map"),{center:{lat:40.61589475533107,lng:-74.0637538196986},zoom:12,styles:t}),new google.maps.Marker({position:{lat:40.61589475533107,lng:-74.0637538196986},map:f,title:"I am here!"}),h=!0};document.getElementById("show-map-btn").addEventListener("click",function(e){e.preventDefault();const n=b();if(d)n.classList.remove("active"),d=!1;else if(n.classList.add("active"),d=!0,h)window.initMap();else{const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCb8Bd-wNJ4DBDnQ5x1K5J8QeJZBgudncA&callback=initMap",t.async=!0,t.defer=!0,document.head.appendChild(t)}});window.addEventListener("resize",()=>{d&&b().classList.add("active")});window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",async e=>{const n=e.matches?"dark":"light",t=await L(n);f.setOptions({styles:t})});const V=document.querySelector("#close-modal-button"),m=document.querySelector("#work-together-modal-window"),z=document.querySelector("#work-together-form");function g(e){e.preventDefault(),m.classList.add("visually-hidden"),document.body.classList.remove("modal-open"),z.reset()}V.addEventListener("click",g);m.addEventListener("click",function(e){e.target===m&&g(e)});document.addEventListener("keydown",function(e){m.classList.contains("visually-hidden")||(e.key==="Escape"||e.key==="Enter")&&g(e)});
//# sourceMappingURL=index.js.map
