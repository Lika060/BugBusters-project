import{A as h,r as b,i as d,S as L,a as E}from"./assets/vendor-BqGS_gHH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();(()=>{const e=document.querySelector(".js-menu"),n=document.querySelector(".js-menu"),t=document.querySelector(".js-menu-close"),r=document.querySelector(".nav-list");n.addEventListener("click",o),t.addEventListener("click",o);function o(){const s=n.getAttribute("aria-expanded")==="true"||!1;n.setAttribute("aria-expanded",!s),e.classList.toggle("is-open"),document.body.classList.toggle("is-open")}r.addEventListener("click",s=>{s.target.nodeName==="A"&&s.target.nodeName==="A"&&(e.classList.remove("is-open"),document.body.classList.remove("is-open"))})})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("img.lazy");if("IntersectionObserver"in window){const n=new IntersectionObserver((t,r)=>{t.forEach(o=>{if(o.isIntersecting){const s=o.target;s.dataset.src&&(s.src=s.dataset.src,s.addEventListener("error",()=>{console.warn(`Failed to load image: ${s.dataset.src}`)},{once:!0}),r.unobserve(s))}})},{rootMargin:"100px"});e.forEach(t=>{n.observe(t)})}else e.forEach(n=>{n.dataset.src&&(n.src=n.dataset.src)})});new h(".accordion-container",{collapse:!0,openOnInit:[0]});b();const g=document.querySelector(".swiper");let a;const S=async()=>{try{const e=await fetch("https://portfolio-js.b.goit.study/api/reviews");if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to fetch reviews:",e),[]}},k=e=>`
    <li class="swiper-slide" id="slide">
        <p class="review-comment">${e.review}</p>
        <div class="review-info">
          <img class="review-photo" src="${e.avatar_url}" alt="User photo" width="40" height="40" loading="lazy"/>
          <h3 class="review-name">${e.author}</h3>
        </div>
    </li>`,q=async()=>{const e=await S();if(!e.length){g.innerHTML="<p>Not found</p>",d.error({message:"Reviews cannot be loaded at this time.",position:"bottomRight"});return}const n=e.map(t=>k(t)).join("");g.querySelector(".swiper-wrapper").innerHTML=n,a=new L(".swiper",{slidesPerView:1,spaceBetween:10,grabCursor:!0,slideToClickedSlide:!0,speed:800,keyboard:{enabled:!0},mousewheel:{enabled:!0},navigation:{nextEl:".reviews-btn-right",prevEl:".reviews-btn-left"},breakpoints:{768:{slidesPerView:1,spaceBetween:12},1280:{slidesPerView:2,spaceBetween:32}},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},on:{slideChange:()=>{w()}}}),w()};function w(){if(!a)return;const e=document.querySelector(".reviews-btn-right"),n=document.querySelector(".reviews-btn-left");e.disabled=a.isEnd,n.disabled=a.isBeginning;const t=document.querySelector(".js-btn-left"),r=document.querySelector(".js-btn-right");t.style.transition="none",r.style.transition="none",a.isEnd&&(r.style.stroke="#e4e5e6",t.style.stroke="#292929"),a.isBeginning&&(t.style.stroke="#e4e5e6",r.style.stroke="#292929"),!a.isEnd&&!a.isBeginning&&(t.style.stroke="#292929",r.style.stroke="#292929"),e.classList.toggle("disabled",a.isEnd),n.classList.toggle("disabled",a.isBeginning)}q();const u=document.querySelector("#work-together-form"),M=document.querySelector("#work-together-modal-window"),{email:c,message:P,button:T}=u.elements;u.addEventListener("submit",C);c.addEventListener("input",B);function B(){c.validity.valid&&(c.textContent="âœ”",c.classList.add("valid"))}function I(e){const{email:n,message:t}=e.elements;return!!(n.value&&t.value)}function O(e){document.body.classList.add("modal-open"),M.classList.remove("visually-hidden")}async function x(e){const{email:n,message:t}=e.elements,r={email:n.value,comment:t.value};return await E.post("https://portfolio-js.b.goit.study/api/requests",r).then(i=>i.data).then(i=>O()).catch(i=>{i.response.data?d.error(i.response.data):d.error(i)})}async function A(e){e.elements,await x(e).then(n=>{})}function C(e){e.preventDefault(),I(u)?A(u):d.warning({message:"Error"})}let v=!1,l=!1;const m=document.createElement("div");m.id="map";function y(){const e=window.innerWidth>=1280,n=document.getElementById(e?"map-desktop":"map-mobile");let t=n.querySelector(".map-wrapper");return t||(t=document.createElement("div"),t.className="map-wrapper",n.appendChild(t)),t.contains(m)||(t.innerHTML="",t.appendChild(m)),t}window.initMap=function(){const e=new google.maps.Map(document.getElementById("map"),{center:{lat:40.61589475533107,lng:-74.0637538196986},zoom:12});new google.maps.Marker({position:{lat:40.61589475533107,lng:-74.0637538196986},map:e,title:"I am here!"}),v=!0};document.getElementById("show-map-btn").addEventListener("click",function(e){e.preventDefault();const n=y();if(l)n.classList.remove("active"),l=!1;else if(n.classList.add("active"),l=!0,v)window.initMap();else{const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCb8Bd-wNJ4DBDnQ5x1K5J8QeJZBgudncA&callback=initMap",t.async=!0,t.defer=!0,document.head.appendChild(t)}});window.addEventListener("resize",()=>{l&&y().classList.add("active")});const D=document.querySelector("#close-modal-button"),p=document.querySelector("#work-together-modal-window"),j=document.querySelector("#work-together-form");function f(e){e.preventDefault(),p.classList.add("visually-hidden"),document.body.classList.remove("modal-open"),j.reset()}D.addEventListener("click",f);p.addEventListener("click",function(e){e.target===p&&f(e)});document.addEventListener("keydown",function(e){p.classList.contains("visually-hidden")||(e.key==="Escape"||e.key==="Enter")&&f(e)});
//# sourceMappingURL=index.js.map
