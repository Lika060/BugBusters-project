import{A as p,r as f,i as d,S as g,a as y}from"./assets/vendor-BqGS_gHH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();(()=>{const e=document.querySelector(".js-menu"),t=document.querySelector(".js-menu"),o=document.querySelector(".js-menu-close"),r=document.querySelector(".nav-list");t.addEventListener("click",n),o.addEventListener("click",n);function n(){const s=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!s),e.classList.toggle("is-open"),document.body.classList.toggle("is-open")}r.addEventListener("click",s=>{s.target.nodeName==="A"&&s.target.nodeName==="A"&&(e.classList.remove("is-open"),document.body.classList.remove("is-open"))})})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("img.lazy");if("IntersectionObserver"in window){const t=new IntersectionObserver((o,r)=>{o.forEach(n=>{if(n.isIntersecting){const s=n.target;s.dataset.src&&(s.src=s.dataset.src,s.addEventListener("error",()=>{console.warn(`Failed to load image: ${s.dataset.src}`)},{once:!0}),r.unobserve(s))}})},{rootMargin:"100px"});e.forEach(o=>{t.observe(o)})}else e.forEach(t=>{t.dataset.src&&(t.src=t.dataset.src)})});new p(".accordion-container",{collapse:!0,openOnInit:[0]});f();const u=document.querySelector(".swiper");let a;const v=async()=>{try{const e=await fetch("https://portfolio-js.b.goit.study/api/reviews");if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to fetch reviews:",e),[]}},w=e=>`
    <li class="swiper-slide" id="slide">
        <p class="review-comment">${e.review}</p>
        <div class="review-info">
          <img class="review-photo" src="${e.avatar_url}" alt="User photo" width="40" height="40" loading="lazy"/>
          <h3 class="review-name">${e.author}</h3>
        </div>
    </li>`,h=async()=>{const e=await v();if(!e.length){u.innerHTML="<p>Not found</p>",d.error({message:"Reviews cannot be loaded at this time.",position:"bottomRight"});return}const t=e.map(o=>w(o)).join("");u.querySelector(".swiper-wrapper").innerHTML=t,a=new g(".swiper",{slidesPerView:1,spaceBetween:10,grabCursor:!0,slideToClickedSlide:!0,speed:800,keyboard:{enabled:!0},mousewheel:{enabled:!0},navigation:{nextEl:".reviews-btn-right",prevEl:".reviews-btn-left"},breakpoints:{768:{slidesPerView:1,spaceBetween:12},1280:{slidesPerView:2,spaceBetween:32}},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},on:{slideChange:()=>{m()}}}),m()};function m(){if(!a)return;const e=document.querySelector(".reviews-btn-right"),t=document.querySelector(".reviews-btn-left");e.disabled=a.isEnd,t.disabled=a.isBeginning;const o=document.querySelector(".js-btn-left"),r=document.querySelector(".js-btn-right");o.style.transition="none",r.style.transition="none",a.isEnd&&(r.style.stroke="#e4e5e6",o.style.stroke="#292929"),a.isBeginning&&(o.style.stroke="#e4e5e6",r.style.stroke="#292929"),!a.isEnd&&!a.isBeginning&&(o.style.stroke="#292929",r.style.stroke="#292929"),e.classList.toggle("disabled",a.isEnd),t.classList.toggle("disabled",a.isBeginning)}h();const l=document.querySelector("#work-together-form"),b=document.querySelector("#work-together-modal-window");console.dir(l);const{email:c,message:P,button:$}=l.elements;console.dir(c);l.addEventListener("submit",O);c.addEventListener("input",L);function L(){c.validity.valid&&(c.textContent="âœ”",feedback.classList.add("valid")),console.log(c.validity.valid),console.log(c.textContent)}function S(e){const{email:t,message:o}=e.elements;return!!(t.value&&o.value)}function E(e){document.body.classList.add("modal-open"),b.classList.remove("visually-hidden")}async function q(e){const{email:t,message:o}=e.elements,r={email:t.value,comment:o.value};console.dir(r);const n="https://portfolio-js.b.goit.study/api/requests";return console.log(JSON.stringify(r)),await y.post(n,r).then(i=>i.data).then(i=>E()).catch(i=>{console.log(i),i.response.data?d.error(i.response.data):d.error(i)})}async function k(e){e.elements,await q(e).then(t=>{console.log(t)})}function O(e){e.preventDefault(),S(l)?k(l):d.warning({message:"Error"})}const B=document.querySelector("#close-modal-button"),I=document.querySelector("#work-together-modal-window"),M=document.querySelector("#work-together-form");function x(e){e.preventDefault(),I.classList.add("visually-hidden"),document.body.classList.remove("modal-open"),M.reset()}B.addEventListener("click",x);
//# sourceMappingURL=index.js.map
